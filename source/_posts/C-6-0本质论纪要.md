---
title: C# 6.0本质论纪要
date: 2022-01-15 15:09:03
tags: C#
cover: https://s4.ax1x.com/2022/01/15/7JJva6.jpg
---

> 我会写C#，但是，很多细节的东西我都不清楚，我需要阅读《C# 6.0 本质论》来完善我的知识。

##### 一、基本点

1. 条件操作符

   如果只是判断条件，二者当中取一个，则可以使用这种写法；条件操作符不是完整的if逻辑判断，结果必须赋值给某个变量或是作为参数传递；

   ```c#
   condition ? consequence : alternative; 
   //condition 为 true，取consequence，否则，alternative；
   currentPlayer = (currentPlayer == 2) ? 1 : 2;
   ```

2. 空接合操作符

   ```c#
   expression1 ?? expression2;
   //如果expression1不为空，就返回该值，如果expression1为null，就返回expression2的值；
   string fullName = fileName ?? "defaultName";
   ```

3. null条件操作符

   在使用某个东西之前，判断其是否为空，避免空引用-`?.`；

   ```c#
   if(args?.Length == 0){...}//先判断args是否为null，如果不是，就判断args的长度是否为 0；等价于：
   (args != null) ? (int?)args.Length : null;
   ```

   

4. 移位操作符

   一般来说，不会用到，用`<<` `>>`左移/右移二进制字节串；右移，空位 正数补充0，负数补充1；左移 补 0；具体的例子遇到之后再补充；

5. 按位操作符

   对两个操作数做逐位的逻辑运算，`&`  `|` ` ^`  ；此外还有按位赋值操作符；

6. 

##### 二、方法和参数

1. 常用命名空间：

|          命名空间           |             描述             |
| :-------------------------: | :--------------------------: |
|           System            |  包含基元类型，几乎都要用到  |
|     System.Collections      | 处理对象集合。比如列表，字典 |
| System.Collections.Generics |     使用泛型的强类型集合     |
|    System.IO                    |          处理文件和目录                    |
|System.Xml|为XML处理提供了基于标准的支持|

2. 方法返回值 return

   return 可以返回插值语句：`return $"{string1} {string2}";`

3. 表达式主体方法

   不带方法体的最简单的方法声明，使用了 Lambda 操作符；
   `static string FetFullName() => $"{firstName}{lastName}";`

4. using 指令

   - using 指令不会导入任何嵌套命名空间中的类型， 嵌套命名空间必须显示导入；(比如：`using System.IO`)
    [Java 允许使用通配符导入命名空间，例如：`import javax.swing.*`]

   - using 指令可以嵌套，并不是只能写到文件的开头，比如，它也能写到命名空间声明的后面，只是这样写就只对该命名空间起作用；
   - using static 指令:
     该指令允许省略 方法名字前的限定类名和命名空间名
   ```C#
   using static System.Console;
   class HeyYou{
      static void Main(){
         WriteLine("Hello");
         Write("You");
      }
   }
   ```
   - 使用别名：可以利用 `using` 指令为命名空间或是类 取一个别名；

      别名是在using指令起作用的范围内可以使用的代替名称。别名主要用来消除同名类的歧义和缩写长名称；
      ```c#
      using Timers = System.Timers.Timer;
      ...
       Timers time =new Timers();
      ```
5. `Main()` 的返回值和参数

   `Main()` 可以没有返回值(void)，也可以有返回值(int)；Main方法可以不传入参数，但是一般这样写：`static void Main(string[] args) {...}`
   
6. 值类型与引用类型
   - 值类型：对于值类型的参数，形式参数获取的是值的副本，在被调用的方法中更改参数不会影响yuan'hi
   - 引用类型：对于引用类型的变量，它的值是对数据实际存储位置的引用；被调用的方法改变不了引用（地址）本身，但是可以改变引用所指向的数据；

7. 引用参数 `ref` 

   如果要在方法中改变变量的值，则需要以传引用的方式传递变量；

   被调用的方法将参数指定为 `ref`，
a

